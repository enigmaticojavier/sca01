<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<constant name="struts.devMode" value="false" /> 
        
        <!-- Include webwork default (from the Struts JAR). -->
	<include file="struts-default.xml"/>
	<!-- Configuration for the default package. -->
        
	<package name="default" extends="struts-default">
            <interceptors>
               <interceptor-stack name="defaultStack">
                  <interceptor-ref name="prepare" />
                  <interceptor-ref name="params">
                     <param name="acceptedParamNames">
                       [[\p{Graph}\s]+[^,#:=]]* 
                     </param>
                     <param name="excludeParams">
                        _,d-\d+?-[sope]
                     </param>
                  </interceptor-ref>
               </interceptor-stack>
            </interceptors>
            <!--default-interceptor-ref name="defaultStack"/-->
            <default-interceptor-ref name="paramsPrepareParamsStack"/>
            <action name="index" class="gob.pe.minam.sca.action.ParametroAction" method="list" >
                <result name="success">/pages/parametro/parametro.jsp</result>
                <interceptor-ref name="basicStack">
                </interceptor-ref>        
            </action>
            <action name="parametro" class="gob.pe.minam.sca.action.ParametroAction" method="input">
                <result name="success" type="redirectAction">index</result>
                <result name="input">/pages/parametro/parametroForm.jsp</result>
                <result name="error">error.jsp</result>
                <interceptor-ref name="basicStack"/>
            </action>
	    <action name="showLogin">
                <result>/index.jsp</result>
	    </action>
	    <action name="doLogin" class="gob.pe.minam.sca.action.LoginAction">            
            	<result name="input">/pages/layout/mainLayout.jsp</result>
            	<result name="error">/pages/layout/mainLayout.jsp</result>
            	<result name="ADM">/pages/login/loginSuccessADM.jsp</result>
            	<result name="ACA">/pages/login/loginSuccessACA.jsp</result>
            </action>
            <action name="doLogout" class="gob.pe.minam.sca.action.LogoutAction">
                    <result name="success" type="redirect">/index.jsp</result>
            </action>
            <action name="acaeForm" class="gob.pe.minam.sca.action.AcaeAction" method="{0}">
                <result name="success">/pages/acae/acaeForm.jsp</result>
                <result name="creado">/pages/acae/acaeSuccess.jsp</result>
                <result name="error">/pages/acae/acaeError.jsp</result>
                <interceptor-ref name="basicStack"/>
            </action>       		
	</package>
        
        <package name="pckproyecto" extends="struts-default">
            <interceptors>
               <interceptor-stack name="defaultStack">
                  <interceptor-ref name="prepare" />  
                  <interceptor-ref name="params">
                     <param name="acceptedParamNames">
                       [[\p{Graph}\s]+[^,#:=]]* 
                     </param>   
                     <param name="excludeParams">
                        _,d-\d+?-[sope]
                     </param>
                  </interceptor-ref>
               </interceptor-stack>
            </interceptors>
            
            <default-interceptor-ref name="defaultStack"/>
            <action name="proyecto" class="gob.pe.minam.sca.action.ProyectoAction" method="list">
                <result name="success">/pages/proyecto/proyecto.jsp</result>
                <interceptor-ref name="defaultStack"/>
            </action>
            <action name="proyectoForm" class="gob.pe.minam.sca.action.ProyectoExpedienteAction" method="input">
                <result name="success" type="redirectAction">index</result>
                <result name="input">/pages/proyecto/proyectoForm.jsp</result>
                <result name="error">error.jsp</result>
                <interceptor-ref name="defaultStack"/>
            </action>
            
	</package>
        
        <package name="pckestadistica" extends="struts-default">
            <default-interceptor-ref name="paramsPrepareParamsStack"/>
            <action name="estadistica" class="gob.pe.minam.sca.action.EstadisticaAction" method="list">
                <result name="success">/pages/estadistica/estadistica.jsp</result>
                <interceptor-ref name="defaultStack"/>
            </action>
	</package>
	        
        <package name="pckupload" extends="struts-default">
            <default-interceptor-ref name="paramsPrepareParamsStack"/>
            <action name="upload" class="gob.pe.minam.sca.action.UploadAction" method="list">
                <result name="success">/pages/periodo/archivo.jsp</result>
                <interceptor-ref name="defaultStack"/>
            </action>
	</package>
        
        <package name="pckadjunto" extends="struts-default">
            <default-interceptor-ref name="paramsPrepareParamsStack"/>
            <action name="adjunto" class="gob.pe.minam.sca.action.AdjuntoAction" method="list">
                <result name="success">/pages/periodo/adjunto.jsp</result>
                <interceptor-ref name="defaultStack"/>
            </action>
	</package>
        
        
</struts>
